webpackJsonp([8],{"+AHw":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("mvHQ"),r=n.n(s),o=n("Xxa5"),a=n.n(o),i=n("exGp"),h=n.n(i),u=n("Dd8w"),c=n.n(u),l=n("2sLL"),p=n("mzja"),f=n("1h8J"),m=n("NYxO"),v=(n("gAs1"),n("7t+N")),d=n.n(v),g=(n("UZ5h"),c()({},Object(m.b)({userInfo:function(t){return t.mutations.userInfo}})),l.a,p.a,{data:function(){return{dialogImageUrl:"",dialogVisible:!1,FInterID:"",Fnumber:"",Pictures:[],EmpCode:"",InspectionResult:"",IncomingMessage:{},Items:[],Picturelist:[],fileList:[],result:[],disabled:!1}},computed:c()({},Object(m.b)({userInfo:function(t){return t.mutations.userInfo}})),directives:{},components:{XButton:l.a,Alert:p.a},mounted:function(){this.getIncomingMessage()},methods:{handleRemove:function(t,e){console.log(t,e)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},getIncomingMessage:function(){var t=this;return h()(a.a.mark(function e(){var n,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.o)({FInterID:t.$route.query.FInterID});case 2:for(n=e.sent,t.Items=n.Items,t.Picturelist=n.Picturelist,t.IncomingMessage=n,t.FInterID=t.$route.query.FInterID,t.EmpCode=t.userInfo[0].Fnumber,t.Fnumber=n.FNumber,t.InspectionResult=t.IncomingMessage.FStatus,s=0;s<t.Picturelist.length;s++)t.result.push({url:t.Picturelist[s].Photo});t.fileList=t.result;case 12:case"end":return e.stop()}},e,t)}))()},incomingInspection:function(){var t=this;return h()(a.a.mark(function e(){var n,s,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],s=t,o=0,d()(".el-upload-list--picture-card img").each(function(){o++}),0===o&&t.$vux.toast.text("请至少上传一张图片"),0,d()(".el-upload-list--picture-card img").each(function(){var t=document.createElement("canvas"),e=t.getContext("2d"),a=new Image,i=1;a.setAttribute("crossOrigin","Anonymous"),a.src=d()(this).attr("src"),a.onload=function(){if(a.height*a.width<=64e4)console.log("像素小于等于64万"),t.height=a.height,t.width=a.width;else{console.log("大于64万像素");var h=Math.sqrt(a.height*a.width/64e4);t.height=a.height/h,t.width=a.width/h}e.drawImage(a,0,0,t.width,t.height);var u=t.toDataURL("image/jpeg",i),c=u.length,l=parseInt(c-c/8*2),p="";for(p=(l/1024).toFixed(2);parseInt(p)>200;)i*=.99,c=(u=t.toDataURL("image/jpeg",i)).length,p=((l=parseInt(c-c/8*2))/1024).toFixed(2);if(n.push({photo:u.replace(/.*;base64,/,"")}),n.length===o){var m=Object(f.W)({FInterID:s.$route.query.FInterID,Fnumber:s.Fnumber,Pictures:r()(n),EmpCode:s.EmpCode,InspectionResult:s.InspectionResult});console.info(m),s.$vux.alert.show({content:"提交成功",onShow:function(){},onHide:function(){s.$router.push({path:"/auditForm/inspectionWait",query:{FInterID:s.FInterID}})}})}}});case 7:case"end":return e.stop()}},e,t)}))()},onexceed:function(){this.$vux.toast.text("最多只能上传9张图片")}}}),b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap",attrs:{id:"wrap"}},[n("el-upload",{attrs:{action:"#",multiple:"","file-list":t.fileList,"list-type":"picture-card","auto-upload":!1,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,limit:9,"on-exceed":t.onexceed}},[n("i",{staticClass:"el-icon-plus"})]),t._v(" "),t._l(t.Items,function(e,s){return n("ul",{key:s},[n("li",[n("div",{staticClass:"title"},[t._v(t._s(e.FItemName))]),t._v(" "),n("div",{staticClass:"content"},[t._v(t._s(e.FAuxQty)+t._s(e.FUnitName))])])])}),t._v(" "),n("ul",{staticClass:"mt20"},[n("li",[n("div",{staticClass:"title"},[t._v("稽查结果：")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.IncomingMessage.FStatus,expression:"IncomingMessage.FStatus"}],attrs:{type:"text",placeholder:"请填写",required:""},domProps:{value:t.IncomingMessage.FStatus},on:{input:function(e){e.target.composing||t.$set(t.IncomingMessage,"FStatus",e.target.value)}}})]),t._v(" "),n("li",[n("div",{staticClass:"title"},[t._v("稽查人员：")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo[0].Fnumber,expression:"userInfo[0].Fnumber"}],attrs:{type:"text",placeholder:"请填写",required:""},domProps:{value:t.userInfo[0].Fnumber},on:{input:function(e){e.target.composing||t.$set(t.userInfo[0],"Fnumber",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"invitation"},[n("x-button",{staticClass:"button",attrs:{gradients:["#d93309","#aa0000"]},nativeOn:{click:function(e){return t.incomingInspection(e)}}},[t._v("提交")])],1),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogVisible,fullscreen:!0,center:!0,"custom-class":"background"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],2)},staticRenderFns:[]};var I=n("VU/8")(g,b,!1,function(t){n("00l1"),n("pjPc")},"data-v-164527ac",null);e.default=I.exports},"00l1":function(t,e){},"1nuA":function(t,e,n){"use strict";e.decode=e.parse=n("kMPS"),e.encode=e.stringify=n("xaZU")},UZ5h:function(t,e,n){"use strict";var s=n("xCWu"),r=n("qOJP");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=I,e.resolve=function(t,e){return I(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?I(t,!1,!0).resolveObject(e):e},e.format=function(t){r.isString(t)&&(t=I(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var a=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),l=["%","/","?",";","#"].concat(c),p=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},d={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n("1nuA");function I(t,e,n){if(t&&r.isObject(t)&&t instanceof o)return t;var s=new o;return s.parse(t,e,n),s}o.prototype.parse=function(t,e,n){if(!r.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),i=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(i);u[0]=u[0].replace(/\\/g,"/");var I=t=u.join(i);if(I=I.trim(),!n&&1===t.split("#").length){var y=h.exec(I);if(y)return this.path=I,this.href=I,this.pathname=y[1],y[2]?(this.search=y[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=a.exec(I);if(x){var j=(x=x[0]).toLowerCase();this.protocol=j,I=I.substr(x.length)}if(n||x||I.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===I.substr(0,2);!w||x&&d[x]||(I=I.substr(2),this.slashes=!0)}if(!d[x]&&(w||x&&!g[x])){for(var O,C,F=-1,A=0;A<p.length;A++){-1!==(q=I.indexOf(p[A]))&&(-1===F||q<F)&&(F=q)}-1!==(C=-1===F?I.lastIndexOf("@"):I.lastIndexOf("@",F))&&(O=I.slice(0,C),I=I.slice(C+1),this.auth=decodeURIComponent(O)),F=-1;for(A=0;A<l.length;A++){var q;-1!==(q=I.indexOf(l[A]))&&(-1===F||q<F)&&(F=q)}-1===F&&(F=I.length),this.host=I.slice(0,F),I=I.slice(F),this.parseHost(),this.hostname=this.hostname||"";var U="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!U)for(var P=this.hostname.split(/\./),R=(A=0,P.length);A<R;A++){var _=P[A];if(_&&!_.match(f)){for(var S="",k=0,M=_.length;k<M;k++)_.charCodeAt(k)>127?S+="x":S+=_[k];if(!S.match(f)){var N=P.slice(0,A),$=P.slice(A+1),D=_.match(m);D&&(N.push(D[1]),$.unshift(D[2])),$.length&&(I="/"+$.join(".")+I),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),U||(this.hostname=s.toASCII(this.hostname));var E=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+E,this.href+=this.host,U&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==I[0]&&(I="/"+I))}if(!v[j])for(A=0,R=c.length;A<R;A++){var H=c[A];if(-1!==I.indexOf(H)){var Z=encodeURIComponent(H);Z===H&&(Z=escape(H)),I=I.split(H).join(Z)}}var V=I.indexOf("#");-1!==V&&(this.hash=I.substr(V),I=I.slice(0,V));var z=I.indexOf("?");if(-1!==z?(this.search=I.substr(z),this.query=I.substr(z+1),e&&(this.query=b.parse(this.query)),I=I.slice(0,z)):e&&(this.search="",this.query={}),I&&(this.pathname=I),g[j]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){E=this.pathname||"";var J=this.search||"";this.path=E+J}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",s=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var i=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),s&&"#"!==s.charAt(0)&&(s="#"+s),i&&"?"!==i.charAt(0)&&(i="?"+i),e+o+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(i=i.replace("#","%23"))+s},o.prototype.resolve=function(t){return this.resolveObject(I(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(r.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,s=Object.keys(this),a=0;a<s.length;a++){var i=s[a];n[i]=this[i]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var c=h[u];"protocol"!==c&&(n[c]=t[c])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!g[t.protocol]){for(var l=Object.keys(t),p=0;p<l.length;p++){var f=l[p];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||d[t.protocol])n.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var v=n.pathname||"",b=n.search||"";n.path=v+b}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var I=n.pathname&&"/"===n.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=y||I||n.host&&t.pathname,j=x,w=n.pathname&&n.pathname.split("/")||[],O=(m=t.pathname&&t.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(O&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),x=x&&(""===m[0]||""===w[0])),y)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,w=m;else if(m.length)w||(w=[]),w.pop(),w=w.concat(m),n.search=t.search,n.query=t.query;else if(!r.isNullOrUndefined(t.search)){if(O)n.hostname=n.host=w.shift(),(U=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=U.shift(),n.host=n.hostname=U.shift());return n.search=t.search,n.query=t.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=w.slice(-1)[0],F=(n.host||t.host||w.length>1)&&("."===C||".."===C)||""===C,A=0,q=w.length;q>=0;q--)"."===(C=w[q])?w.splice(q,1):".."===C?(w.splice(q,1),A++):A&&(w.splice(q,1),A--);if(!x&&!j)for(;A--;A)w.unshift("..");!x||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),F&&"/"!==w.join("/").substr(-1)&&w.push("");var U,P=""===w[0]||w[0]&&"/"===w[0].charAt(0);O&&(n.hostname=n.host=P?"":w.length?w.shift():"",(U=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=U.shift(),n.host=n.hostname=U.shift()));return(x=x||n.host&&w.length)&&!P&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=i.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},kMPS:function(t,e,n){"use strict";function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var i=/\+/g;t=t.split(e);var h=1e3;o&&"number"==typeof o.maxKeys&&(h=o.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var c=0;c<u;++c){var l,p,f,m,v=t[c].replace(i,"%20"),d=v.indexOf(n);d>=0?(l=v.substr(0,d),p=v.substr(d+1)):(l=v,p=""),f=decodeURIComponent(l),m=decodeURIComponent(p),s(a,f)?r(a[f])?a[f].push(m):a[f]=[a[f],m]:a[f]=m}return a};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},pjPc:function(t,e){},qOJP:function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},xCWu:function(t,e,n){(function(t,s){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var a="object"==typeof s&&s;a.global!==a&&a.window!==a&&a.self;var i,h=2147483647,u=36,c=1,l=26,p=38,f=700,m=72,v=128,d="-",g=/^xn--/,b=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=u-c,j=Math.floor,w=String.fromCharCode;function O(t){throw new RangeError(y[t])}function C(t,e){for(var n=t.length,s=[];n--;)s[n]=e(t[n]);return s}function F(t,e){var n=t.split("@"),s="";return n.length>1&&(s=n[0]+"@",t=n[1]),s+C((t=t.replace(I,".")).split("."),e).join(".")}function A(t){for(var e,n,s=[],r=0,o=t.length;r<o;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<o?56320==(64512&(n=t.charCodeAt(r++)))?s.push(((1023&e)<<10)+(1023&n)+65536):(s.push(e),r--):s.push(e);return s}function q(t){return C(t,function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)}).join("")}function U(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function P(t,e,n){var s=0;for(t=n?j(t/f):t>>1,t+=j(t/e);t>x*l>>1;s+=u)t=j(t/x);return j(s+(x+1)*t/(t+p))}function R(t){var e,n,s,r,o,a,i,p,f,g,b,I=[],y=t.length,x=0,w=v,C=m;for((n=t.lastIndexOf(d))<0&&(n=0),s=0;s<n;++s)t.charCodeAt(s)>=128&&O("not-basic"),I.push(t.charCodeAt(s));for(r=n>0?n+1:0;r<y;){for(o=x,a=1,i=u;r>=y&&O("invalid-input"),((p=(b=t.charCodeAt(r++))-48<10?b-22:b-65<26?b-65:b-97<26?b-97:u)>=u||p>j((h-x)/a))&&O("overflow"),x+=p*a,!(p<(f=i<=C?c:i>=C+l?l:i-C));i+=u)a>j(h/(g=u-f))&&O("overflow"),a*=g;C=P(x-o,e=I.length+1,0==o),j(x/e)>h-w&&O("overflow"),w+=j(x/e),x%=e,I.splice(x++,0,w)}return q(I)}function _(t){var e,n,s,r,o,a,i,p,f,g,b,I,y,x,C,F=[];for(I=(t=A(t)).length,e=v,n=0,o=m,a=0;a<I;++a)(b=t[a])<128&&F.push(w(b));for(s=r=F.length,r&&F.push(d);s<I;){for(i=h,a=0;a<I;++a)(b=t[a])>=e&&b<i&&(i=b);for(i-e>j((h-n)/(y=s+1))&&O("overflow"),n+=(i-e)*y,e=i,a=0;a<I;++a)if((b=t[a])<e&&++n>h&&O("overflow"),b==e){for(p=n,f=u;!(p<(g=f<=o?c:f>=o+l?l:f-o));f+=u)C=p-g,x=u-g,F.push(w(U(g+C%x,0))),p=j(C/x);F.push(w(U(p,0))),o=P(n,y,s==r),n=0,++s}++n,++e}return F.join("")}i={version:"1.4.1",ucs2:{decode:A,encode:q},decode:R,encode:_,toASCII:function(t){return F(t,function(t){return b.test(t)?"xn--"+_(t):t})},toUnicode:function(t){return F(t,function(t){return g.test(t)?R(t.slice(4).toLowerCase()):t})}},void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)}()}).call(e,n("3IRH")(t),n("DuR2"))},xaZU:function(t,e,n){"use strict";var s=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,i){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(a(t),function(a){var i=encodeURIComponent(s(a))+n;return r(t[a])?o(t[a],function(t){return i+encodeURIComponent(s(t))}).join(e):i+encodeURIComponent(s(t[a]))}).join(e):i?encodeURIComponent(s(i))+n+encodeURIComponent(s(t)):""};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],s=0;s<t.length;s++)n.push(e(t[s],s));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}}});
//# sourceMappingURL=8.093140f82277a3b02fa9.js.map