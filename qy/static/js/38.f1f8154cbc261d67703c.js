webpackJsonp([38],{"/Ga/":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),n=s("BO1k"),r=s.n(n),o=s("Gu7T"),u=s.n(o),l=s("Xxa5"),c=s.n(l),v=s("fZjL"),m=s.n(v),p=s("exGp"),_=s.n(p),d=s("1h8J"),F=(s("NYxO"),s("2sLL")),f=s("mzja"),C=s("UIMx"),N=s("dgEa"),h=s("YxJB"),b=s("3Lt7"),g=s("UNGY"),x=s("7t+N"),S=s.n(x),I=(F.a,f.a,C.a,N.a,h.a,b.a,g.a,{data:function(){return{result:{FSpouseEmpName:""},showBox:!1,departList:[],departList2:[],departName:"",Fdate:"2019-05-09",FHobby:"",FNote:"",item:{FNumber:"",FFPZT:"",FOrganizeName:""}}},components:{XButton:F.a,Alert:f.a,Tabbar:C.a,TabbarItem:N.a,Flexbox:h.a,FlexboxItem:b.a,Datetime:g.a},mounted:function(){void 0!=this.$route.query.item&&(this.item=JSON.parse(this.$route.query.item),console.info(this.item)),void 0!=this.$route.query.FItemID&&(this.FItemID=this.$route.query.FItemID,this.getEmpRegisterInfo()),void 0!=this.$route.query.FSpouseEmpNumber&&(this.result.FSpouseEmpNumber=this.$route.query.FSpouseEmpNumber,console.info(this.$route.query.FSpouseEmpNumber),this.clickSpouse(this.result.FSpouseEmpNumber))},methods:{change:function(t){console.log("change",t)},addPic:function(){return S()("input[type=file]").trigger("click"),!1},imgChange:function(t){var e=this;return _()(c.a.mark(function s(){var i,a,n,o,l,v,p,d,F;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=[],t.target.files.length){s.next=3;break}return s.abrupt("return");case 3:(a=m()(t.target.files).map(function(e){return t.target.files[e]})).length>5&&(a=a.filter(function(t,e){if(e<5)return t})),n=a.map(function(){var t=_()(c.a.mark(function t(s,i){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uploadImgToBase64(s);case 2:return a=t.sent,t.abrupt("return",a.result);case 4:case"end":return t.stop()}},t,e)}));return function(e,s){return t.apply(this,arguments)}}()),o=!0,l=!1,v=void 0,s.prev=9,p=r()(n);case 11:if(o=(d=p.next()).done){s.next=21;break}return F=d.value,s.t0=i,s.next=16,F;case 16:s.t1=s.sent,s.t0.push.call(s.t0,s.t1);case 18:o=!0,s.next=11;break;case 21:s.next=27;break;case 23:s.prev=23,s.t2=s.catch(9),l=!0,v=s.t2;case 27:s.prev=27,s.prev=28,!o&&p.return&&p.return();case 30:if(s.prev=30,!l){s.next=33;break}throw v;case 33:return s.finish(30);case 34:return s.finish(27);case 35:if(!(e.fileList.length+i.length>5)){s.next=38;break}return e.$vux.alert.show({title:"注意",content:"最多可上传五张图片",onShow:function(){console.log("Plugin: I'm showing")},onHide:function(){console.log("Plugin: I'm hiding now")}}),s.abrupt("return");case 38:e.fileList=[].concat(u()(e.fileList),i);case 39:case"end":return s.stop()}},s,e,[[9,23,27,35],[28,,30,34]])}))()},upLoadImg:function(){var t=this;return _()(c.a.mark(function e(){var s,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(s={FCheckInterID:t.result.FCheckInterID,EmpCode:t.userInfo1[0].Fnumber,Pictures:[]}).Pictures=t.fileList.map(function(t){return{photo:t.replace(/.*;base64,/,"")}}),s.Pictures=a()(s.Pictures),console.log(s),e.next=6,Object(d._5)(s);case 6:i=e.sent,console.log(i),t.$vux.toast.text(i);case 9:case"end":return e.stop()}},e,t)}))()},getEmpRegisterInfo:function(){var t=this;return _()(c.a.mark(function e(){var s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.k)({FItemID:t.$route.query.FItemID});case 2:s=e.sent,console.log(s),t.result=s[0];case 5:case"end":return e.stop()}},e,t)}))()},toInfo:function(){this.$router.push({path:"/dormitory/dormitoryRegistration2",query:{FSpouseEmpNumber:this.result.FSpouseEmpNumber,FItemID:this.$route.query.FItemID}})},getWaitForCheckInEmpList:function(){var t=this;return _()(c.a.mark(function e(){var s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.I)({FNumber:t.result.FSpouseEmpNumber,FUserID:"362"});case 2:s=e.sent,console.info(s),t.departList=s.map(function(t){return t.FEmpNumber});case 5:case"end":return e.stop()}},e,t)}))()},clickSpouse:function(t){var e=this;return _()(c.a.mark(function s(){var i;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return console.info("clickSpouse"+t),e.departList=[],e.showBox=!1,s.next=5,Object(d.I)({FNumber:t,FUserID:"362"});case 5:i=s.sent,console.info("11"+e.result.FSpouseEmpName),e.result.FSpouseEmpNumber=t,e.result.FSpouseEmpName=i[0].FEmpName,e.result.FSpouseEmpID=i[0].FitemID,e.result.FSpouseSexName=i[0].FSexName,e.result.FSpousemarriageName=i[0].FmarriageName,e.result.FSpouseOrganizeName=i[0].FOrganizeName,e.result.FSpouseDeptmentName=i[0].FDeptmentName,e.result.FSpouseDutyName=i[0].FDutyName,e.result.FSpouseFullName=i[0].FFullName;case 16:case"end":return s.stop()}},s,e)}))()},submitSsDormitory:function(){var t=this;return _()(c.a.mark(function e(){var s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={FitemID:t.item.FItemID,FEmpID:t.result.FitemID,FEmpName:t.result.FEmpName,FSpouseEmpID:t.result.FSpouseEmpID,Fdate:t.Fdate,FHobby:t.FHobby,FNote:t.FNote},console.info(s),e.next=4,Object(d._1)({FEmpCode:t.result.FEmpNumber,Json:s});case 4:e.sent;case 5:case"end":return e.stop()}},e,t)}))()},confirm:function(){this.submitSsDormitory()}}}),y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrap",attrs:{id:"wrap"}},[s("div",{staticClass:"list"},[s("form",{attrs:{onkeydown:"if(event.keyCode==13) return false;"}},[s("ul",[s("div",{staticStyle:{float:"right"}},[s("img",{attrs:{src:"http://220.189.245.171:8083/"+t.result.FFullName}})]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("工号*")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.FEmpNumber))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("姓名")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.FEmpName))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("性别")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.FSexName))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("婚姻状况")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.FmarriageName))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("组织")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.FOrganizeName))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("部门")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.FDeptmentName))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("职务")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.FDutyName))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("入职日期")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.FHiredate))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("联系电话")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.Faddreess))])]),t._v(" "),""!=t.result.FSpouseFullName&&void 0!=t.result.FSpouseFullName?s("div",{staticStyle:{float:"right"}},[s("img",{attrs:{src:"http://220.189.245.171:8083/"+t.result.FSpouseFullName}})]):t._e(),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("配偶工号")]),t._v(" "),s("div",{staticClass:"content"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.result.FSpouseEmpNumber,expression:"result.FSpouseEmpNumber"}],attrs:{type:"text"},domProps:{value:t.result.FSpouseEmpNumber},on:{click:function(e){t.showBox=!0},input:[function(e){e.target.composing||t.$set(t.result,"FSpouseEmpNumber",e.target.value)},function(e){return t.getWaitForCheckInEmpList()}]}})]),t._v(" "),t.departList.length&&t.result.FSpouseEmpNumber&&t.showBox?s("div",{staticClass:"val-box"},[s("ul",t._l(t.departList,function(e,i){return s("li",{key:i,on:{click:function(s){return t.clickSpouse(e)}}},[t._v(t._s(e))])}),0)]):t._e()]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("配偶姓名")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.FSpouseEmpName))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("配偶性别")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.FSpouseSexName))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("配偶婚姻状况")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.FSpousemarriageName))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("配偶组织")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.FSpouseOrganizeName))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("配偶部门")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.FSpouseDeptmentName))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("配偶职务")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.result.FSpouseDutyName))])]),t._v(" "),s("x-button",{staticClass:"button",attrs:{gradients:["#d93309","#aa0000"]},nativeOn:{click:function(e){return t.toInfo()}}},[t._v("选择宿舍")]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("床铺号：")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.item.FNumber))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("分配状态：")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.item.FFPZT))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("房间组织：")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.item.FOrganizeName))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("房间类型：")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.item.FRoomTypeName))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("楼号：")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.item.FDormitoriesName))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("层数：")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.item.Ffloor))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("房间朝向：")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.item.FRoomToward))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("窗户朝向：")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.item.FWindownToWard))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("是否阳台")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.item.FIsPorch))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("是否独立卫生家：")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.item.FIsToilet))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("面积（平方米）：")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.item.FRoomArea))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("租价/平方")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.item.FRoomPrice))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("家具配置")]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(t.item.Ffurniture))])]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("入住日期*")]),t._v(" "),s("div",{staticClass:"content"},[s("datetime",{staticStyle:{padding:"0px"},attrs:{format:"YYYY-MM-DD"},on:{"on-change":t.change},model:{value:t.Fdate,callback:function(e){t.Fdate=e},expression:"Fdate"}})],1)]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("个人癖好*")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.FHobby,expression:"FHobby"}],attrs:{type:"text",placeholder:"请填写",required:"",oninvalid:"setCustomValidity('请填写个人癖好')",oninput:"setCustomValidity('')"},domProps:{value:t.FHobby},on:{input:function(e){e.target.composing||(t.FHobby=e.target.value)}}})]),t._v(" "),s("li",[s("div",{staticClass:"title"},[t._v("备注*")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.FNote,expression:"FNote"}],attrs:{type:"text",placeholder:"请填写",required:"",oninvalid:"setCustomValidity('请填写备注')",oninput:"setCustomValidity('')"},domProps:{value:t.FNote},on:{input:function(e){e.target.composing||(t.FNote=e.target.value)}}})])],1),t._v(" "),s("div",{staticClass:"invitation"},[s("input",{staticClass:"weui-btn inputbutton",attrs:{type:"submit"},on:{click:function(e){return t.confirm(e)}}})])])])])},staticRenderFns:[]};var E=s("VU/8")(I,y,!1,function(t){s("8sEp")},"data-v-b697e588",null);e.default=E.exports},"8sEp":function(t,e){}});
//# sourceMappingURL=38.f1f8154cbc261d67703c.js.map