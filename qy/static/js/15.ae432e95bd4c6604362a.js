webpackJsonp([15],{ALGc:function(e,t,_){"use strict";var n=_("f6Hi"),i=_("kbG3"),a=_("JnrT"),r=_.n(a),s=(n.a,i.a,String,String,Boolean,Number,String,String,String,Boolean,Boolean,Number,Number,Number,String,String,String,String,Boolean,{name:"x-textarea",minxins:[n.a],mounted:function(){var e=this;this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$nextTick(function(){e.autosize&&e.bindAutosize()})},components:{InlineDesc:i.a},props:{title:String,inlineDesc:String,showCounter:{type:Boolean,default:!0},max:Number,value:String,name:String,placeholder:String,readonly:Boolean,disabled:Boolean,rows:{type:Number,default:3},cols:{type:Number,default:30},height:Number,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},autosize:Boolean},created:function(){this.currentValue=this.value},watch:{autosize:function(e){this.unbindAutosize(),e&&this.bindAutosize()},value:function(e){this.currentValue=e},currentValue:function(e){var t=this;if(this.max&&e&&e.replace(/\n/g,"aa").length>this.max){var _=e.match(/\n/g).length;this.currentValue=e.slice(0,this.max-_),this.$nextTick(function(){t.autosize&&t.updateAutosize()})}this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)}},data:function(){return{hasRestrictedLabel:!1,currentValue:""}},computed:{count:function(){var e=0;return this.currentValue&&(e=this.currentValue.replace(/\n/g,"aa").length),e>this.max?this.max:e},textareaStyle:function(){if(this.height)return{height:this.height+"px"}},labelStyles:function(){var e=this.$parent,t=void 0===e?{}:e;return{width:t.labelWidth||this.labelWidth+"em",textAlign:t.labelAlign,marginRight:t.labelMarginRight}},labelWidth:function(){return this.title.replace(/[^x00-xff]/g,"00").length/2+1},labelClass:function(){return this.$parent?{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}:{}}},methods:{updateAutosize:function(){r.a.update(this.$refs.textarea)},bindAutosize:function(){r()(this.$refs.textarea)},unbindAutosize:function(){r.a.destroy(this.$refs.textarea)},focus:function(){this.$refs.textarea.focus()}},beforeDestroy:function(){this.unbindAutosize()}}),o={render:function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{staticClass:"weui-cell vux-x-textarea"},[_("div",{staticClass:"weui-cell__hd"},[e.hasRestrictedLabel?_("div",{style:e.labelStyles},[e._t("restricted-label")],2):e._e(),e._v(" "),e._t("label",[e.title?_("label",{staticClass:"weui-label",class:e.labelClass,style:{width:e.$parent.labelWidth||e.labelWidth+"em",textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e.inlineDesc?_("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()])],2),e._v(" "),_("div",{staticClass:"weui-cell__bd"},[_("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"textarea",staticClass:"weui-textarea",style:e.textareaStyle,attrs:{autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled,name:e.name,rows:e.rows,cols:e.cols,maxlength:e.max},domProps:{value:e.currentValue},on:{focus:function(t){return e.$emit("on-focus")},blur:function(t){return e.$emit("on-blur")},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),_("div",{directives:[{name:"show",rawName:"v-show",value:e.showCounter&&e.max,expression:"showCounter && max"}],staticClass:"weui-textarea-counter",on:{click:e.focus}},[_("span",[e._v(e._s(e.count))]),e._v("/"+e._s(e.max)+"\n    ")])])])},staticRenderFns:[]};var u=_("VU/8")(s,o,!1,function(e){_("nsjZ")},null,null);t.a=u.exports},EWxV:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_4_vux_src_components_x_button_index_vue__=__webpack_require__("2sLL"),__WEBPACK_IMPORTED_MODULE_5_vux_src_components_popup_picker_index_vue__=__webpack_require__("7Ah8"),__WEBPACK_IMPORTED_MODULE_6_vux_src_components_x_textarea_index_vue__=__webpack_require__("ALGc"),__WEBPACK_IMPORTED_MODULE_7_vux_src_components_group_index_vue__=__webpack_require__("rHil"),__WEBPACK_IMPORTED_MODULE_8_vux_src_components_datetime_index_vue__=__webpack_require__("UNGY"),__WEBPACK_IMPORTED_MODULE_9_vuex__=__webpack_require__("NYxO"),__WEBPACK_IMPORTED_MODULE_10_moment__=__webpack_require__("PJh5"),__WEBPACK_IMPORTED_MODULE_10_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_moment__),__WEBPACK_IMPORTED_MODULE_11__api_getData__=__webpack_require__("1h8J");__webpack_exports__.a={data:function(){return{showReasonList:!1,showTimeList:!1,disable001:!1,submit001:"提交",form:{time:"天"},reason:"",reasonTypeList:[{name:"事假",value:"306",parent:0},{name:"婚假",value:"310",parent:0},{name:"工伤",value:"309",parent:0},{name:"丧假",value:"316",parent:0},{name:"产假",value:"317",parent:0}],reasonType:[],timeList:[["天","小时"]],timeType:["天"],startTime:"",endTime:"",substitute:"",recipient:"",hackReset:!0,companyList:[{name:"金帝",value:"0",parent:0},{name:"金隆",value:"1",parent:0},{name:"金臻",value:"2",parent:0},{name:"金易",value:"3",parent:0},{name:"江西",value:"4",parent:0},{name:"河南",value:"5",parent:0}],company:[]}},computed:__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_extends___default()({},Object(__WEBPACK_IMPORTED_MODULE_9_vuex__.b)({userInfo:function(e){return e.mutations.userInfo}}),{timeDiff:function(){var e=this;return""!=this.startTime&&""!=this.endTime?(this.hackReset=!1,this.$nextTick(function(){e.hackReset=!0}),__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.endTime).diff(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.startTime),"hour")<4?(this.form.time="小时",Math.ceil(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.endTime).diff(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.startTime),"minute")/60)):(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.startTime).hours()-12<0?this.startTime=this.startTime.substring(0,10)+" 00:00":this.startTime=this.startTime.substring(0,10)+" 12:00",__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.endTime).hours()<=12?this.endTime=this.endTime.substring(0,10)+" 12:00":this.endTime=this.endTime.substring(0,10)+" 23:59",this.$vux.toast.text("小时数大于4小时，改为天假"),this.form.time="天",isNaN(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.endTime).diff(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.startTime),"hour"))?"":Math.round(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.endTime).diff(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.startTime),"hour")/24*10)/10)):""}}),components:{XButton:__WEBPACK_IMPORTED_MODULE_4_vux_src_components_x_button_index_vue__.a,PopupPicker:__WEBPACK_IMPORTED_MODULE_5_vux_src_components_popup_picker_index_vue__.a,XTextarea:__WEBPACK_IMPORTED_MODULE_6_vux_src_components_x_textarea_index_vue__.a,Group:__WEBPACK_IMPORTED_MODULE_7_vux_src_components_group_index_vue__.a,Datetime:__WEBPACK_IMPORTED_MODULE_8_vux_src_components_datetime_index_vue__.a},mounted:function(){this.getRecipient(this.userInfo[0].Fnumber)},methods:{showTime:function(){this.showTimeList=!0},changeTime:function(e){console.log(e),this.form.time=e[0]},showCompany:function(){this.showCompanyList=!0},changeStartTime:function(e){var t=this;""!=this.endTime&&__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.endTime).diff(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.startTime),"minute")<=0&&(this.$vux.toast.text("结束时间必须大于开始时间"),this.hackReset=!1,this.$nextTick(function(){t.hackReset=!0}),this.startTime=""),console.log("changeStartTime",e)},changeEndTime:function(e){var t=this;""!=this.startTime&&__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.endTime).diff(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.startTime),"minute")<=0&&(this.$vux.toast.text("结束时间必须大于开始时间"),this.hackReset=!1,this.$nextTick(function(){t.hackReset=!0}),this.endTime=""),console.log("changeEndTime",e)},getRecipient:function getRecipient(val){var _this4=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee(){var data;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(__WEBPACK_IMPORTED_MODULE_11__api_getData__.k)({EmpCode:val});case 2:data=_context.sent,_this4.recipient=eval(data),console.log(eval(data));case 5:case"end":return _context.stop()}},_callee,_this4)}))()},confirm:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){var _;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(__WEBPACK_IMPORTED_MODULE_11__api_getData__.b)({jsonStr:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({company:e.company[0],jiabie:e.reasonType[0],startDate:e.startTime.substring(0,10),endDate:e.endTime.substring(0,10),startTime:e.startTime.substring(11,e.startTime.length),endTime:e.endTime.substring(11,e.endTime.length),timeDiff:e.timeDiff,time:e.form.time,reason:e.reason,substitute:e.substitute,sqr:e.userInfo[0].Fnumber,shr:e.recipient.FLiableEmpCode})});case 2:_=t.sent,e.$vux.toast.text(_),e.disable001=!0,e.submit001="已提交";case 6:case"end":return t.stop()}},t,e)}))()}}}},JnrT:function(e,t,_){var n,i,a,r;
/*!
	Autosize 3.0.21
	license: MIT
	http://www.jacklmoore.com/autosize
*/
/*!
	Autosize 3.0.21
	license: MIT
	http://www.jacklmoore.com/autosize
*/
r=function(e,t){"use strict";var _,n,i="function"==typeof Map?new Map:(_=[],n=[],{has:function(e){return _.indexOf(e)>-1},get:function(e){return n[_.indexOf(e)]},set:function(e,t){-1===_.indexOf(e)&&(_.push(e),n.push(t))},delete:function(e){var t=_.indexOf(e);t>-1&&(_.splice(t,1),n.splice(t,1))}}),a=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){a=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function r(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!i.has(e)){var t,_=null,n=e.clientWidth,r=null,s=function(){e.clientWidth!==n&&c()},o=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",c,!1),e.removeEventListener("keyup",c,!1),e.removeEventListener("autosize:destroy",o,!1),e.removeEventListener("autosize:update",c,!1),Object.keys(t).forEach(function(_){e.style[_]=t[_]}),i.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",o,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",c,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",c,!1),e.addEventListener("autosize:update",c,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",i.set(e,{destroy:o,update:c}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),_="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(_)&&(_=0),c()}function u(t){var _=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=_,e.style.overflowY=t}function l(){var t=e.style.height,i=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),a=document.documentElement&&document.documentElement.scrollTop;e.style.height="auto";var r=e.scrollHeight+_;0!==e.scrollHeight?(e.style.height=r+"px",n=e.clientWidth,i.forEach(function(e){e.node.scrollTop=e.scrollTop}),a&&(document.documentElement.scrollTop=a)):e.style.height=t}function c(){l();var t=Math.round(parseFloat(e.style.height)),_=window.getComputedStyle(e,null),n="content-box"===_.boxSizing?Math.round(parseFloat(_.height)):e.offsetHeight;if(n!==t?"hidden"===_.overflowY&&(u("scroll"),l(),n="content-box"===_.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==_.overflowY&&(u("hidden"),l(),n="content-box"===_.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),r!==n){r=n;var i=a("autosize:resized");try{e.dispatchEvent(i)}catch(e){}}}}function s(e){var t=i.get(e);t&&t.destroy()}function o(e){var t=i.get(e);t&&t.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(e){return e}).destroy=function(e){return e},u.update=function(e){return e}):((u=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return r(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e},u.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),t.exports=u},i=[t,e],void 0===(a="function"==typeof(n=r)?n.apply(t,i):n)||(e.exports=a)},LZH8:function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});_("jpF2");var n=_("EWxV"),i={render:function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{staticClass:"wrap",attrs:{id:"wrap"}},[e._m(0),e._v(" "),_("div",{staticClass:"infomation"},[_("ul",[_("li",[_("div",{staticClass:"name"},[e._v("姓名")]),e._v(" "),_("div",{staticClass:"content"},[e._v(e._s(e.userInfo[0].FName))])]),e._v(" "),_("li",[_("div",{staticClass:"name"},[e._v("工号")]),e._v(" "),_("div",{staticClass:"content"},[e._v(e._s(e.userInfo[0].Fnumber))])]),e._v(" "),_("li",[_("div",{staticClass:"name"},[e._v("部门")]),e._v(" "),_("div",{staticClass:"content"},[e._v(e._s(e.userInfo[0].FDepartmentName))])]),e._v(" "),_("li",[_("div",{staticClass:"name"},[e._v("职位")]),e._v(" "),_("div",{staticClass:"content"},[e._v(e._s(e.userInfo[0].FDutyName))])])])]),e._v(" "),_("div",{staticClass:"infomation infomation2 mt20"},[_("ul",[_("li",{staticStyle:{height:"42px","align-items":"center"}},[_("div",{staticClass:"name"},[e._v("厂区")]),e._v(" "),_("div",{staticClass:"content"},[_("popup-picker",{attrs:{data:e.companyList,columns:1,"show-name":""},model:{value:e.company,callback:function(t){e.company=t},expression:"company"}})],1)]),e._v(" "),_("li",{staticStyle:{height:"42px","align-items":"center"}},[_("div",{staticClass:"name"},[e._v("假别")]),e._v(" "),_("div",{staticClass:"content"},[_("popup-picker",{attrs:{data:e.reasonTypeList,columns:1,"show-name":""},model:{value:e.reasonType,callback:function(t){e.reasonType=t},expression:"reasonType"}})],1)]),e._v(" "),_("li",[_("div",{staticClass:"name"},[e._v("开始时间")]),e._v(" "),_("div",{staticClass:"content"},[e.hackReset?_("datetime",{staticStyle:{padding:"0px"},attrs:{format:"YYYY-MM-DD HH:mm"},on:{"on-change":e.changeStartTime},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}):e._e()],1)]),e._v(" "),_("li",[_("div",{staticClass:"name"},[e._v("结束时间")]),e._v(" "),_("div",{staticClass:"content"},[e.hackReset?_("datetime",{staticStyle:{padding:"0px"},attrs:{format:"YYYY-MM-DD HH:mm"},on:{"on-change":e.changeEndTime},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}):e._e()],1)]),e._v(" "),_("li",[_("div",{staticClass:"name"},[e._v("请假时长")]),e._v(" "),_("div",{staticClass:"content",on:{click:e.showTime}},[_("span",[e._v(e._s(e.timeDiff)+e._s(e.form.time?e.form.time:"请选择"))])])]),e._v(" "),_("li",{staticStyle:{display:"inherit",padding:"0 10px","border-bottom":"0"}},[_("div",{staticClass:"name",staticStyle:{height:"26px","line-height":"26px"}},[e._v("请假事由")]),e._v(" "),_("group",[_("x-textarea",{model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}})],1)],1),e._v(" "),_("li",[_("div",{staticClass:"name"},[e._v("工作替班人")]),e._v(" "),_("input",{directives:[{name:"model",rawName:"v-model",value:e.substitute,expression:"substitute"}],attrs:{type:"text",placeholder:"请填写"},domProps:{value:e.substitute},on:{input:function(t){t.target.composing||(e.substitute=t.target.value)}}})]),e._v(" "),_("li",[_("div",{staticClass:"name"},[e._v("审核人")]),e._v(" "),_("div",{staticClass:"content"},[_("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.FLiableEmpName,expression:"recipient.FLiableEmpName"}],attrs:{type:"text",placeholder:"请填写"},domProps:{value:e.recipient.FLiableEmpName},on:{input:function(t){t.target.composing||e.$set(e.recipient,"FLiableEmpName",t.target.value)}}})])])])]),e._v(" "),_("popup-picker",{attrs:{show:e.showTimeList,"show-cell":!1,title:"TEST",data:e.timeList},on:{"update:show":function(t){e.showTimeList=t},"on-change":e.changeTime},model:{value:e.timeType,callback:function(t){e.timeType=t},expression:"timeType"}}),e._v(" "),_("x-button",{staticClass:"confirm",attrs:{text:e.submit001,type:"warn",disabled:e.disable001},nativeOn:{click:function(t){return e.confirm(t)}}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tips"},[t("p",[this._v("你的请假申请单需审核完成后方可离岗,")]),this._v(" "),t("p",[this._v("否则视为旷工")])])}]};var a=function(e){_("hJ9p")},r=_("VU/8")(n.a,i,!1,a,"data-v-5d9a5f90",null);t.default=r.exports},hJ9p:function(e,t){},jpF2:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_4_vux_src_components_x_button_index_vue__=__webpack_require__("2sLL"),__WEBPACK_IMPORTED_MODULE_5_vux_src_components_popup_picker_index_vue__=__webpack_require__("7Ah8"),__WEBPACK_IMPORTED_MODULE_6_vux_src_components_x_textarea_index_vue__=__webpack_require__("ALGc"),__WEBPACK_IMPORTED_MODULE_7_vux_src_components_group_index_vue__=__webpack_require__("rHil"),__WEBPACK_IMPORTED_MODULE_8_vux_src_components_datetime_index_vue__=__webpack_require__("UNGY"),__WEBPACK_IMPORTED_MODULE_9_vuex__=__webpack_require__("NYxO"),__WEBPACK_IMPORTED_MODULE_10_moment__=__webpack_require__("PJh5"),__WEBPACK_IMPORTED_MODULE_10_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_moment__),__WEBPACK_IMPORTED_MODULE_11__api_getData__=__webpack_require__("1h8J"),_unused_webpack_default_export={data:function(){return{showReasonList:!1,showTimeList:!1,disable001:!1,submit001:"提交",form:{time:"天"},reason:"",reasonTypeList:[{name:"事假",value:"306",parent:0},{name:"婚假",value:"310",parent:0},{name:"工伤",value:"309",parent:0},{name:"丧假",value:"316",parent:0},{name:"产假",value:"317",parent:0}],reasonType:[],timeList:[["天","小时"]],timeType:["天"],startTime:"",endTime:"",substitute:"",recipient:"",hackReset:!0,companyList:[{name:"金帝",value:"0",parent:0},{name:"金隆",value:"1",parent:0},{name:"金臻",value:"2",parent:0},{name:"金易",value:"3",parent:0},{name:"江西",value:"4",parent:0},{name:"河南",value:"5",parent:0}],company:[]}},computed:__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_extends___default()({},Object(__WEBPACK_IMPORTED_MODULE_9_vuex__.b)({userInfo:function(e){return e.mutations.userInfo}}),{timeDiff:function(){var e=this;return""!=this.startTime&&""!=this.endTime?(this.hackReset=!1,this.$nextTick(function(){e.hackReset=!0}),__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.endTime).diff(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.startTime),"hour")<4?(this.form.time="小时",Math.ceil(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.endTime).diff(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.startTime),"minute")/60)):(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.startTime).hours()-12<0?this.startTime=this.startTime.substring(0,10)+" 00:00":this.startTime=this.startTime.substring(0,10)+" 12:00",__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.endTime).hours()<=12?this.endTime=this.endTime.substring(0,10)+" 12:00":this.endTime=this.endTime.substring(0,10)+" 23:59",this.$vux.toast.text("小时数大于4小时，改为天假"),this.form.time="天",isNaN(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.endTime).diff(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.startTime),"hour"))?"":Math.round(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.endTime).diff(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.startTime),"hour")/24*10)/10)):""}}),components:{XButton:__WEBPACK_IMPORTED_MODULE_4_vux_src_components_x_button_index_vue__.a,PopupPicker:__WEBPACK_IMPORTED_MODULE_5_vux_src_components_popup_picker_index_vue__.a,XTextarea:__WEBPACK_IMPORTED_MODULE_6_vux_src_components_x_textarea_index_vue__.a,Group:__WEBPACK_IMPORTED_MODULE_7_vux_src_components_group_index_vue__.a,Datetime:__WEBPACK_IMPORTED_MODULE_8_vux_src_components_datetime_index_vue__.a},mounted:function(){this.getRecipient(this.userInfo[0].Fnumber)},methods:{showTime:function(){this.showTimeList=!0},changeTime:function(e){console.log(e),this.form.time=e[0]},showCompany:function(){this.showCompanyList=!0},changeStartTime:function(e){var t=this;""!=this.endTime&&__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.endTime).diff(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.startTime),"minute")<=0&&(this.$vux.toast.text("结束时间必须大于开始时间"),this.hackReset=!1,this.$nextTick(function(){t.hackReset=!0}),this.startTime=""),console.log("changeStartTime",e)},changeEndTime:function(e){var t=this;""!=this.startTime&&__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.endTime).diff(__WEBPACK_IMPORTED_MODULE_10_moment___default()(this.startTime),"minute")<=0&&(this.$vux.toast.text("结束时间必须大于开始时间"),this.hackReset=!1,this.$nextTick(function(){t.hackReset=!0}),this.endTime=""),console.log("changeEndTime",e)},getRecipient:function getRecipient(val){var _this4=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee(){var data;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(__WEBPACK_IMPORTED_MODULE_11__api_getData__.k)({EmpCode:val});case 2:data=_context.sent,_this4.recipient=eval(data),console.log(eval(data));case 5:case"end":return _context.stop()}},_callee,_this4)}))()},confirm:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){var _;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(__WEBPACK_IMPORTED_MODULE_11__api_getData__.b)({jsonStr:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({company:e.company[0],jiabie:e.reasonType[0],startDate:e.startTime.substring(0,10),endDate:e.endTime.substring(0,10),startTime:e.startTime.substring(11,e.startTime.length),endTime:e.endTime.substring(11,e.endTime.length),timeDiff:e.timeDiff,time:e.form.time,reason:e.reason,substitute:e.substitute,sqr:e.userInfo[0].Fnumber,shr:e.recipient.FLiableEmpCode})});case 2:_=t.sent,e.$vux.toast.text(_),e.disable001=!0,e.submit001="已提交";case 6:case"end":return t.stop()}},t,e)}))()}}}},nsjZ:function(e,t){}});
//# sourceMappingURL=15.ae432e95bd4c6604362a.js.map