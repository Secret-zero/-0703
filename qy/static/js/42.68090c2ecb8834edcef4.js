webpackJsonp([42],{U5Vf:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7t+N"),n=a.n(i),s={data:function(){return{goalWidth:null,goalHeight:null,r:0,storeImg:new Image,aa:[{id:1,name:"张三"},{id:2,name:"李四"},{id:3,name:"王五"},{id:2,name:"赵六"}]}},mounted:function(){var t=this.aa.find(function(t){return"2"==t.id});console.info(t);var e=this.aa.filter(function(t){return"2"==t.id});console.info(e)},methods:{openImgFile:function(){var t=n()("#file-input");t&&t.click()},fileChange:function(t){var e=n()("#file-input"),a=new FormData,i=e[0].files[0],s=this.drawImage,o=new Image;if(i){a.append("image",i);var l=new FileReader;l.readAsDataURL(i),l.onload=function(t){o.src=t.target.result,o.onload=function(){o.width,o.height,s(o.width,o.height,o),console.log(o)}}}},drawImage:function(t,e,a){var i=document.getElementById("myCanvas"),n=0,s=0;i.getContext&&(t==this.goalWidth&&e==this.goalHeight||e>this.goalHeight&&t>this.goalWidth&&(this.r=t/this.goalWidth,e/this.r<this.goalHeight&&(this.r=e/this.goalHeight),n=Math.ceil(t/this.r),s=Math.ceil(e/this.r),this.resizeImage(n,s,a)),i.width=this.goalWidth,i.height=this.goalHeight,i.getContext("2d").drawImage(a,0,0,i.width,i.height),document.getElementById("downloadImg").href=i.toDataURL("image/jpg"))},resizeImage:function(t,e,a){var i=document.getElementById("myCanvas");i.width=t,i.height=e,i.getContext("2d").drawImage(a,0,0,i.width,i.height),this.storeImg.src=i.toDataURL("image/jpg")},againDraw:function(){this.fileChange()}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("h5",[t._v("组件：Canvas 实现 HTML 转图片")]),t._v(" "),t._m(0),t._v(" "),a("h5",[t._v("参考链接")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"#goal-width"}},[t._v("目标宽度")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.goalWidth,expression:"goalWidth"}],staticClass:"form-control",attrs:{id:"goal-width",type:"text"},domProps:{value:t.goalWidth},on:{input:function(e){e.target.composing||(t.goalWidth=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"#goal-heigth"}},[t._v("目标高度")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.goalHeight,expression:"goalHeight"}],staticClass:"form-control",attrs:{id:"goal-height",type:"text"},domProps:{value:t.goalHeight},on:{input:function(e){e.target.composing||(t.goalHeight=e.target.value)}}})]),t._v(" "),a("div",[a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file-input",name:"",value:""},on:{change:t.fileChange}}),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.openImgFile}},[t._v("选择文件")]),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.againDraw}},[t._v("重新绘制图片")]),t._v(" "),a("a",{staticClass:"btn btn-success",attrs:{download:"",id:"downloadImg"}},[t._v("下载图片")])])]),t._v(" "),t._m(4)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("上传图片")]),this._v(" "),e("li",[this._v("根据目标宽度，高度，居中剪裁")]),this._v(" "),e("li",[this._v("保存下载图片")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{attrs:{href:"https://blog.csdn.net/fengshizty/article/details/25790397",target:"_blank"}},[this._v("Html5新特性 canvas画板画直线和等比缩放居中裁剪图片")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{attrs:{href:"https://blog.csdn.net/UW63ZqpKxwlRL1/article/details/79251311",target:"_blank"}},[this._v("实战：图片上传组件开发")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{attrs:{href:"https://juejin.im/post/5b8409b451882543094b30c2#heading-3",target:"_blank"}},[this._v("纯前端 Canvas 实现 HTML 转图片，自动生成微信阅读卡片")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-8"},[e("h5",[this._v("此处显示Canvas")]),this._v(" "),e("canvas",{staticStyle:{margin:"0 auto",display:"block"},attrs:{id:"myCanvas",width:"",height:""}})])}]};var l=a("VU/8")(s,o,!1,function(t){a("jjV/")},null,null);e.default=l.exports},"jjV/":function(t,e){}});
//# sourceMappingURL=42.68090c2ecb8834edcef4.js.map